/* ==========================================================================
   Galería – hoja limpia y ordenada
   ========================================================================== */

/* ===== Reset + base ===== */
* { margin: 0; padding: 0; box-sizing: border-box; }
html, body { height: 100%; }

/* Página de galería (no centramos todo el body) */
.glr-page{
  min-height: 100vh;
  background: #ffffff;
  color: #3c4d28;
  font-family: 'Montserrat', sans-serif;
}

/* Contenedor local solo para la galería */
.glr-scope{
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  width: 100%;
  padding: 8px;
  overflow: visible;
}

/* ==========================================================================
   Variables globales
   ========================================================================== */
:root{
  /* Dimensiones card + layout ruleta (desktop por defecto) */
  --glr-card-w: clamp(720px, 68vw, 1040px);
  --glr-card-h: calc(var(--glr-card-w) * 9 / 16); /* 16:9 exacto */
  --glr-gap   : clamp(16px, 2vw, 28px);

  /* Desplazamientos laterales y profundidad 3D */
  --glr-shift-1 : calc(var(--glr-card-w) * 0.78 + var(--glr-gap));
  --glr-shift-2 : calc(var(--glr-card-w) * 1.46 + var(--glr-gap) * 2);
  --glr-depth-1 : -120px;
  --glr-depth-2 : -360px;

  /* Escalas (padre sin zoom; mantenemos 1 para evitar “bandas”) */
  --glr-scale-center: 1;
  --glr-scale-side  : 1;
  --glr-scale-far   : 1;

  /* Perspectiva */
  --glr-persp: 1100px;

  /* Flechas (tamaños y separación) */
  --glr-ctrl-size    : 40px;  /* tamaño del botón (hitbox) */
  --glr-chevron-size : 28px;  /* tamaño del símbolo ‹ › */
  --glr-ctrl-gap     : 12px;  /* separación al borde del carrusel */

  /* Espaciados extra según header fijo */
  --glr-extra-top-desktop: 96px;
  --glr-extra-top-mobile : 56px;
}

/* ==========================================================================
   Título decorativo
   ========================================================================== */
.glr-about-title{
  position: absolute;
  left: 50%;
  top: calc(var(--hdr-h, 80px) + 2vh); /* Slightly more flexible top spacing */
  transform: translateX(-50%);
  pointer-events: none;
  white-space: nowrap;

  color: #3c4d28;
  font-size: clamp(3rem, 10vw, 7.5rem); /* Fluid font size */
  font-weight: 400;
  text-transform: uppercase;
  letter-spacing: -.02em;
}

/* ==========================================================================
   Responsivo
   ========================================================================== */
@media (max-width: 900px) {
  .glr-member { margin-bottom: 2rem; } /* Compact member info on mobile */
  :root {
    --glr-card-w : min(300px, 92vw);
    --glr-card-h : calc(var(--glr-card-w) * 9 / 16);
    --glr-shift-1: calc(var(--glr-card-w) * 0.92 + var(--glr-gap));
    --glr-shift-2: calc(var(--glr-card-w) * 1.7 + var(--glr-gap) * 2);
    --glr-depth-1: -80px;
    --glr-depth-2: -240px;
    --glr-persp  : 800px;
    --glr-ctrl-size   : 36px;
    --glr-chevron-size: 24px;
    --glr-ctrl-gap    : 8px;
  }
  .glr-carousel {
    height: calc(var(--glr-card-h) + 50px);
    margin-top: 40px;
  }
  .glr-member { margin-top: 24px; }
  .glr-member__name {
    font-size: 1.8rem;
    margin-bottom: 8px;
  }
  .glr-member__name::before,
  .glr-member__name::after {
    width: 60px;
    top: 90%;
  }
  .glr-member__name::before { left: -70px; }
  .glr-member__name::after  { right: -70px; }
  .glr-member__role {
    font-size: 1.1rem;
    padding: 8px 0;
    margin-top: -10px;
  }
  .glr-dots { margin-top: 30px; }
}

/* ==========================================================================
   Carrusel 3D
   ========================================================================== */
.glr-carousel{
  width: min(1400px, 95vw);
  height: calc(var(--glr-card-h) + 70px);
  margin-inline: auto;
  margin-top: 80px;
  position: relative;
  perspective: var(--glr-persp);
}

.glr-track{
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  transform-style: preserve-3d;
  transition: transform .8s cubic-bezier(.25,.46,.45,.94);
}

/* ==========================================================================
   Cards
   ========================================================================== */
.glr-card{
  position: absolute;
  width: var(--glr-card-w);
  height: var(--glr-card-h);
  background: transparent;     /* evita “banda” de fondo */
  border-radius: 20px;
  overflow: hidden;
  transition: all .8s cubic-bezier(.25,.46,.45,.94);
  cursor: pointer;
}

/* Imagen a ras del borde, sin bandas internas */
.glr-card img{
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;            /* rellena la card */
  object-position: center;
  border-radius: inherit;       /* esquinas exactas con el borde */
  transition: all .8s cubic-bezier(.25,.46,.45,.94);
}

/* ==========================================================================
   Estados en “ruleta”
   ========================================================================== */
.glr-card.is-center{
  z-index: 10;
  transform: scale(var(--glr-scale-center)) translateZ(0);
}

.glr-card.is-left-1{
  z-index: 5;
  transform: translateX(calc(var(--glr-shift-1) * -1))
             scale(var(--glr-scale-side))
             translateZ(var(--glr-depth-1));
  opacity: .95;
}
.glr-card.is-right-1{
  z-index: 5;
  transform: translateX(var(--glr-shift-1))
             scale(var(--glr-scale-side))
             translateZ(var(--glr-depth-1));
  opacity: .95;
}

.glr-card.is-left-2{
  z-index: 1;
  transform: translateX(calc(var(--glr-shift-2) * -1))
             scale(var(--glr-scale-far))
             translateZ(var(--glr-depth-2));
  opacity: .75;
}
.glr-card.is-right-2{
  z-index: 1;
  transform: translateX(var(--glr-shift-2))
             scale(var(--glr-scale-far))
             translateZ(var(--glr-depth-2));
  opacity: .75;
}

.glr-card.is-hidden{ opacity: 0; pointer-events: none; }

/* Filtro opcional en laterales */
.glr-card.is-left-1 img,
.glr-card.is-left-2 img,
.glr-card.is-right-1 img,
.glr-card.is-right-2 img{
  filter: grayscale(100%);
}

/* ==========================================================================
   Pie (título + meta)
   ========================================================================== */
.glr-member{
  text-align: center;
  margin-top: 34px;
  transition: all .5s ease-out;
}
.glr-member__name{
  position: relative;
  display: inline-block;

  color: #3c4d28;
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 10px;
}
.glr-member__name::before,
.glr-member__name::after{
  content: "";
  position: absolute;
  top: 100%;
  width: 100px; height: 2px;
  background: #3c4d28;
}
.glr-member__name::before{ left: -120px; }
.glr-member__name::after { right: -120px; }

.glr-member__role{
  position: relative;
  color: rgba(60,77,40,.75);
  font-size: 1.5rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: .1em;
  padding: 10px 0;
  margin-top: -15px;
}

/* ==========================================================================
   Dots
   ========================================================================== */
.glr-dots{
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-top: 46px;
}
.glr-dot{
  width: 12px; height: 12px; border-radius: 50%;
  background: rgba(60,77,40,.18);
  border: 1px solid #3c4d28;
  cursor: pointer;
  transition: all .3s ease;
}
.glr-dot.is-active{ background: #3c4d28; transform: scale(1.2); }

/* ==========================================================================
   Flechas (glr-nav) – botón pequeño, fondo transparente, borde blanco
   ========================================================================== */
.glr-nav{
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: var(--glr-ctrl-size);
  height: var(--glr-ctrl-size);
  padding: 0;
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 20;

  background: transparent;
  border: 4px solid #fff;
  border-radius: 9999px;
  color: #fff;
  font-size: var(--glr-chevron-size);

  /* Área de click recortada al círculo (no invade la 2ª tarjeta) */
  clip-path: circle(calc(var(--glr-ctrl-size)/2) at 50% 50%);

  transition:
    transform .18s ease,
    box-shadow .18s ease,
    background-color .18s ease,
    border-color .18s ease,
    opacity .18s ease;
}

/* Posición en bordes del carrusel */
.glr-nav--left  { left:  var(--glr-ctrl-gap); }
.glr-nav--right { right: var(--glr-ctrl-gap); }

/* Hover / Active */
.glr-nav:hover{
  transform: translateY(-50%) scale(1.07);
  background: rgba(255,255,255,.06);
  box-shadow:
    0 0 0 2px rgba(255,255,255,.35),
    0 0 18px rgba(255,255,255,.45);
}
.glr-nav:active{
  transform: translateY(-50%) scale(1.12);
  box-shadow:
    0 0 0 3px rgba(255,255,255,.55),
    0 0 26px rgba(255,255,255,.65);
}
/* Pulso de luz */
.glr-nav::after{
  content: "";
  position: absolute;
  inset: -4px;
  border-radius: inherit;
  pointer-events: none;
  opacity: 0;
}
.glr-nav:active::after{ animation: glr-pulse .45s ease-out; }
@keyframes glr-pulse{
  0%   { box-shadow: 0 0 0 0 rgba(255,255,255,.65); opacity: 1; }
  100% { box-shadow: 0 0 0 22px rgba(255,255,255,0); opacity: 0; }
}

/* ==========================================================================
   Botón “Agendar visita”
   ========================================================================== */
.glr-page .visit-actions{
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 2rem;
  margin-bottom: clamp(4rem, 12vw, 9rem);
  padding-inline: 1rem;
}
.glr-page .btn-visit{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .5rem;
  min-width: 240px;
  padding: .95rem 1.6rem;
  border-radius: 999px;
  border: 2px solid transparent;
  background: var(--brand-color, #3b4d2b);
  color: #fff;
  font-weight: 700;
  letter-spacing: .02em;
  box-shadow: 0 8px 20px rgba(0,0,0,.12);
  transition: transform .18s ease, box-shadow .18s ease, background-color .18s ease, border-color .18s ease;
}
.glr-page .btn-visit:hover{
  transform: translateY(-1px);
  box-shadow: 0 12px 28px rgba(0,0,0,.16);
  border-color: var(--field-bord, #526344);
}
.glr-page .btn-visit:active{
  transform: translateY(0);
  box-shadow: 0 6px 16px rgba(0,0,0,.14) inset;
}
.glr-page .btn-visit:focus-visible{
  outline: none;
  box-shadow:
    0 0 0 .2rem rgba(59,77,43,.35),
    0 10px 24px rgba(0,0,0,.18);
}
.glr-page .btn-visit:disabled{
  opacity: .6; cursor: not-allowed; transform: none; box-shadow: none;
}

/* ==========================================================================
   Header “scrolled” solo en galería
   ========================================================================== */
.glr-page header.fixed-top{
  background-color: var(--header-bg) !important;
  box-shadow: var(--shadow-hdr) !important;
}
.glr-page header.fixed-top .navbar{ padding-block: .5rem !important; }
.glr-page header .navbar-brand img{
  height: 75px !important;
  margin-top: -30px !important;
  content: url("/images/logo.png") !important; /* logo verde */
}
.glr-page .navbar-toggler-icon{
  background-image: url('data:image/svg+xml,%3Csvg viewBox%3D%220 0 30 30%22 xmlns%3D%22http://www.w3.org/2000/svg%22%3E%3Cpath stroke%3D%22%233c4d28%22 stroke-linecap%3D%22round%22 stroke-miterlimit%3D%2210%22 stroke-width%3D%222%22 d%3D%22M4 7h22M4 15h22M4 23h22%22/%3E%3C/svg%3E') !important;
}

/* ==========================================================================
   Responsive
   ========================================================================== */

/* <= 1200px: baja un poco el ancho máximo para no rozar bordes */
@media (max-width: 1200px){
  :root{ --glr-card-w: clamp(620px, 72vw, 900px); }
}

/* <= 900px: cards más compactas manteniendo 16:9 */
@media (max-width: 900px){
  :root{
    --glr-card-w : min(300px, 92vw);
    --glr-card-h : calc(var(--glr-card-w) * 9 / 16);
    --glr-shift-1: calc(var(--glr-card-w) * 0.92 + var(--glr-gap));
    --glr-shift-2: calc(var(--glr-card-w) * 1.84 + var(--glr-gap) * 2);
    --glr-depth-1: -100px;
    --glr-depth-2: -300px;
  }
  .glr-about-title{ font-size: 3.5rem; }
  .glr-member__name{ font-size: 2rem; }
  .glr-member__role{ font-size: 1.2rem; }
  .glr-member__name::before, .glr-member__name::after{ width: 50px; }
  .glr-member__name::before{ left: -70px; }
  .glr-member__name::after { right: -70px; }
}

/* <= 520px: flechas y márgenes más pegados */
@media (max-width: 520px){
  :root{
    --glr-ctrl-size: 34px;
    --glr-chevron-size: 24px;
    --glr-ctrl-gap: 8px;
  }
  .glr-nav--left{
    left: max(8px, calc(50% - (var(--glr-card-w) / 2) - 28px));
  }
  .glr-nav--right{
    right: max(8px, calc(50% - (var(--glr-card-w) / 2) - 28px));
  }
}

/* Empuje vertical del bloque según header (opcional) */
@media (min-width: 992px){
  .glr-scope{ margin-top: var(--glr-extra-top-desktop); }
}
@media (max-width: 991.98px){
  .glr-scope{ margin-top: var(--glr-extra-top-mobile); }
}

/* ==========================================================================
   (Opcional) Si usas los controles de Bootstrap, puedes adaptar aquí:
   .carousel-control-prev / .carousel-control-next …
   (Dejados fuera para evitar conflictos con .glr-nav)
   ========================================================================== */
