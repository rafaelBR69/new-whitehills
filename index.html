<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- ─── SEO ─── -->
  <title data-i18n="title">Balcones del Pinillo – Sitio web oficial</title>
  <meta name="description"
        content="Promoción de obra nueva en Torremolinos. Viviendas de 2-3 dormitorios con terrazas, piscina y zonas verdes. Planos, precios y disponibilidad en la página oficial.">

<!-- ─── FAVICON & PWA ─── -->
  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" type="image/png" sizes="96x96"  href="/favicon-96x96.png">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="#3b4d2b">

  <!-- ─── Datos estructurados (opcional) ─── -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"WhiteHills Villas",
    "url":"https://whitehillsvillas.com",
    "logo":"https://whitehillsvillas.com/web-app-manifest-192x192.png"
  }
  </script>

  <link rel="stylesheet" href="/mediaquaries.css" />
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&family=Poppins:wght@100;400;700&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+Display:ital,wght@0,300;0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">

  <!-- i18next (CDN) -->
  <script src="https://unpkg.com/i18next@23/i18next.min.js"></script>
  <script src="https://unpkg.com/i18next-http-backend@2/i18nextHttpBackend.min.js"></script>
  <script src="https://unpkg.com/i18next-browser-languagedetector@8/i18nextBrowserLanguageDetector.min.js"></script>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap JS (opcional pero recomendado) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Fancybox CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" />

  <!-- Fancybox JS -->
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script>

  <!-- ─── CSS y fuentes ─── -->
  <link rel="stylesheet" href="/style.css" />
  <link rel="stylesheet" href="/css/header.css">
  <link rel="stylesheet" href="/css/footer.css">
  <link rel="stylesheet" href="/css/modal.css">
  <link rel="stylesheet" href="/mediaquaries.css">

</head>

<body>
  <!--*** Header cargado dinámicamente ***-->
  <div id="header-placeholder"></div>

  <!--*** Hero section ***-->
  <section class="section_1 parallax-bg">
    <div class="bg_div">
      <h2 class="bg_text1" data-i18n="hero.welcome"></h2>
      <a href="#availability" class="hero-cta" data-i18n="hero.cta">Ver villas</a>
    </div>
    <div class="promo-info reveal" id="promoStats"></div>
  </section>

  <!--*** Services section ***-->
  <section class="py-5 bg-white text-center section-services">
    <div class="container">
      <h2 class="mb-4 section-services-title" data-i18n="section3.title"></h2>

      <p class="mb-3 section-services-paragraph" data-i18n="section3.paragraph1"></p>
      <p class="mb-4 section-services-paragraph" data-i18n="section3.paragraph2"></p>

      <a href="/contact.html" class="section-services-btn px-4 py-2" data-i18n="section3.button"></a>
    </div>
  </section>

  <section class="section-img-text mx-auto mb-6">
    <!-- Fondo verde por detrás -->
    <div class="section-img-background-extend"></div>

    <!-- Texto centrado -->
    <div class="text-white py-6 position-relative z-1">
      <div class="container d-flex flex-column align-items-center text-center">
        <div class="row justify-content-center">
          <div class="col-11 col-md-10 col-lg-8 mb-5">
            <h2 class="section-img-title" data-i18n="video.blockTitle">video.blockTitle</h2>
            <p class="section-img-paragraph" data-i18n="video.blockParagraph">video.blockParagraph</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Vídeo -->
    <div class="container video-overlap position-relative z-1">
      <div class="row justify-content-center">
        <div class="col-xl-10 mx-auto">
          <figure class="position-relative ratio ratio-16x9 mb-0">
            <!-- Enlace Fancybox aplicado a todo el bloque -->
            <a data-fancybox href="https://www.youtube.com/watch?v=BbSHt8T3OpE" class="d-block w-100 h-100">
              <picture class="d-block w-100 h-100">
                <source srcset="https://i.ytimg.com/vi_webp/BbSHt8T3OpE/maxresdefault.webp" type="image/webp">
                <img
                  src="https://i.ytimg.com/vi/BbSHt8T3OpE/maxresdefault.jpg"
                  onerror="this.onerror=null;this.src='https://i.ytimg.com/vi/BbSHt8T3OpE/hqdefault.jpg';"
                  alt=""
                  class="section-img w-100 h-100 object-fit-cover"
                  data-i18n="[alt]video.imgAlt"
                  loading="lazy"
                />
              </picture>

              <!-- Botón de play centrado encima -->
              <span class="play-btn d-flex align-items-center justify-content-center position-absolute top-50 start-50 translate-middle rounded-circle text-white" role="button" aria-label="Reproducir vídeo">
                <svg width="30" height="30" fill="currentColor" viewBox="0 0 384 512" aria-hidden="true">
                  <path d="M48 432L336 256 48 80v352z"/>
                </svg>
              </span>
            </a>
          </figure>
        </div>
      </div>

      <!-- CTA debajo del vídeo -->
      <div class="row justify-content-center">
        <div class="col-xl-10 mx-auto text-center">
          <div class="video-cta-wrap">
            <a
              class="btn-brochure"
              href="https://TU-SUPABASE-URL/White-Hills-brochure.pdf"
              download="White-Hills-brochure.pdf"
              target="_blank"
              rel="noopener"
              data-i18n="video.ctaBrochure"
            >
              Obtener brochure
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- BLOQUE “Interior + Características” -->
  <section class="interior-block">
    <div class="container">
      <!-- impide que haga wrap en pantallas lg+ -->
      <div class="row align-items-center g-5 flex-lg-nowrap">

        <!-- Texto -->
        <div class="col-lg-6 col-text">
          <h2 class="mb-4 interior-title" data-i18n="interior.title"></h2>
          <p class="mb-3 interior-text" data-i18n="interior.p1"></p>
          <p class="mb-4 interior-text" data-i18n="interior.p2"></p>

          <div class="row gy-2">
            <div class="col-6 d-flex align-items-center gap-2">
              <img src="/images/iconos/location.png" alt="" class="interior-icon">
              <span class="interior-item" data-i18n="interior.item.location"></span>
            </div>
            <div class="col-6 d-flex align-items-center gap-2">
              <img src="/images/iconos/pool.png" alt="" class="interior-icon">
              <span class="interior-item" data-i18n="interior.item.pool"></span>
            </div>
            <div class="col-6 d-flex align-items-center gap-2">
              <img src="/images/iconos/plano.png" alt="" class="interior-icon">
              <span class="interior-item" data-i18n="interior.item.area"></span>
            </div>
            <div class="col-6 d-flex align-items-center gap-2">
              <img src="/images/iconos/plane.png" alt="" class="interior-icon">
              <span class="interior-item" data-i18n="interior.item.airport"></span>
            </div>
            <div class="col-6 d-flex align-items-center gap-2">
              <img src="/images/iconos/arboles.png" alt="" class="interior-icon">
              <span class="interior-item" data-i18n="interior.item.plot"></span>
            </div>
            <div class="col-6 d-flex align-items-center gap-2">
              <img src="/images/iconos/beach.png" alt="" class="interior-icon">
              <span class="interior-item" data-i18n="interior.item.beach"></span>
            </div>
            <div class="col-6 d-flex align-items-center gap-2">
              <img src="/images/iconos/bed.png" alt="" class="interior-icon">
              <span class="interior-item" data-i18n="interior.item.beds"></span>
            </div>
            <div class="col-6 d-flex align-items-center gap-2">
              <img src="/images/iconos/security.png" alt="" class="interior-icon">
              <span class="interior-item" data-i18n="interior.item.security"></span>
            </div>
            <div class="col-6 d-flex align-items-center gap-2">
              <img src="/images/iconos/bath.png" alt="" class="interior-icon">
              <span class="interior-item" data-i18n="interior.item.baths"></span>
            </div>
            <div class="col-6 d-flex align-items-center gap-2">
              <img src="/images/iconos/domotics.png" alt="" class="interior-icon">
              <span class="interior-item" data-i18n="interior.item.domotics"></span>
            </div>
          </div>
        </div>

        <!-- Imagen -->
        <div class="col-lg-6 col-media">
          <figure class="mb-0 interior-figure">
            <img src="/images/garden_whitehills.webp"
                alt=""
                class="interior-img"
                data-i18n="[alt]interior.imgAlt">
          </figure>
        </div>

      </div>
    </div>
  </section>

  <section class="availability" id="availability">
    <div id="availability-placeholder"></div>
  </section>

  
  <section class="features-3up" id="destacados">
    <div class="f3up-row">
      <article class="f3up-card" style="--bg:url('/images/family_beach.webp')">
        <button class="f3up-overlay" type="button">
          <h3 class="f3up-title">Mar, naturaleza y serenidad</h3>
          <p class="f3up-text">
            En Torreblanca, una de las zonas residenciales más exclusivas de Fuengirola, vivirá rodeado de tranquilidad y privacidad, a sólo minutos del mar.

Las playas de Carvajal y Torreblanca destacan por su ambiente relajado y auténticos chiringuitos frente al Mediterráneo.
          </p>
        </button>
      </article>

      <article class="f3up-card" style="--bg:url('/images/wine.webp')">
        <button class="f3up-overlay" type="button">
          <h3 class="f3up-title">Conexiones y servicios de primer nivel</h3>
          <p class="f3up-text">
            
Una ubicación estratégica que combina privacidad y accesibilidad:
15 min al centro de Fuengirola.
35 min al Aeropuerto Internacional de Málaga.
Conexión directa con la autovía y el AVE Madrid–Málaga.

Además, tendrás a tu alcance colegios de prestigio como Salliver y el Colegio Finlandés, restaurantes gourmet, supermercados, centros de salud y el Centro Comercial Miramar.
          </p>
        </button>
      </article>

      <article class="f3up-card" style="--bg:url('/images/golf.webp')">
        <button class="f3up-overlay" type="button">
          <h3 class="f3up-title">Estilo de vida mediterráneo</h3>
          <p class="f3up-text">
            Con más de 330 días de sol al año y una temperatura media de 19 ºC, la Costa del Sol es sinónimo de bienestar y exclusividad. 

Más de 50 campos de golf, una vibrante oferta cultural y una comunidad internacional hacen de Málaga un enclave único para quienes buscan lo mejor de la vida junto al mar.
          </p>
        </button>
      </article>
    </div>
  </section>
  <div id="modals-placeholder"></div>


  <!-- Footer dinámico -->
  <div id="footer-placeholder"></div>

  <!-- POP-UPs … (sin cambios) -->

  <!-- ========== Header dinámico + scroll ========== -->
  <script>
    /* 1. Carga asíncrona del header -------------------------------- */
    fetch('/partials/header.html')
      .then(r => r.text())
      .then(html => {
        /* Inyecta el fragmento */
        document.getElementById('header-placeholder').innerHTML = html;

        /* 2. Activa la lógica de scroll ⇆ cambio de logo ------------- */
        initHeaderScroll();

        /* 3. (Opcional) Re-traduce el nuevo nodo si i18next ya estaba listo */
        if (window.i18next && i18next.isInitialized) {
          document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            if (key) el.innerHTML = i18next.t(key);
          });
        }
      });

    /* ——— Función que añade/quita .scrolled al header ——— */
    function initHeaderScroll () {
      const header = document.querySelector('header');      // ya existe
      const hero   = document.querySelector('.section_1');  // tu bloque con la foto
      if (!header || !hero) return;                         // seguridad extra

      /* Cuando el hero desaparece del viewport → header.scrolled */
      const io = new IntersectionObserver(
        ([entry]) => header.classList.toggle('scrolled', !entry.isIntersecting),
        { threshold: 0 }          // basta que salga 1 px para activar
      );
      io.observe(hero);
    }
  </script>
  <script>
    fetch('/partials/availability-map.html')
      .then(res => res.text())
      .then(html => {
        document.getElementById('availability-placeholder').innerHTML = html;
        // 👇 inicia Mapster cuando el DOM del parcial ya está
        window.initAvailabilityMap && window.initAvailabilityMap();
      });
  </script>
  <script>
    fetch('/partials/footer.html')
      .then(r => r.text())
      .then(html => {
        document.getElementById('footer-placeholder').innerHTML = html;

        // Re-traduce el footer si i18next ya está listo
        if (window.i18next && i18next.isInitialized) {
          document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            if (key) el.innerHTML = i18next.t(key);
          });
        }
      });
  </script>
  <script>
    fetch('/partials/modals.html')
      .then(r => r.text())
      .then(html => { document.getElementById('modals-placeholder').innerHTML = html; });
  </script>
  <script>
    document.addEventListener('click', (e)=>{
      const btn = e.target.closest('.f3up-overlay');
      if(!btn) return;

      const card = btn.closest('.f3up-card');
      // cerrar otras si quieres comportamiento exclusivo en móvil:
      if (window.matchMedia('(max-width: 900px)').matches) {
        document.querySelectorAll('.f3up-card.is-open').forEach(el=>{
          if(el!==card) el.classList.remove('is-open');
        });
        card.classList.toggle('is-open');
      }
    });
  </script>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/imagemapster/1.5.4/jquery.imagemapster.min.js"></script>
  <script src="/js/il18n.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
  <script>
    if (window.pdfjsLib) {
      pdfjsLib.GlobalWorkerOptions.workerSrc =
        'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js';
    }
  </script>
    <script src="/app.js"></script>
</body>
</html>
